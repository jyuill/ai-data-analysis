# Authentication Setup Guide

Your Streamlit app now has password authentication to protect your personal expense data.

## Local Development

### Set Environment Variables

You need to set these environment variables before running the app:

```bash
export AUTH_USERNAME="admin"
export AUTH_NAME="Admin User"
export AUTH_PASSWORD_HASH="your_hashed_password_here"
```

### Generate a Password Hash

Use the included `hash_password.py` script:

```bash
.venv/bin/python hash_password.py
```

This will output a bcrypt hash that you can use as `AUTH_PASSWORD_HASH`.

### Running the App Locally

```bash
# Set environment variables
export AUTH_USERNAME="admin"
export AUTH_NAME="Admin User"
export AUTH_PASSWORD_HASH="your_hash_here"

# Run the app
streamlit run app.py
```

## Railway Deployment

Add these environment variables in your Railway project settings:

1. Go to your Railway project
2. Click on "Variables" tab
3. Add these variables:
   - `AUTH_USERNAME`: Your desired username (e.g., "admin")
   - `AUTH_NAME`: Display name (e.g., "Your Name")
   - `AUTH_PASSWORD_HASH`: The bcrypt hash generated by `hash_password.py`
   - `GOOGLE_CREDENTIALS_JSON`: Your Google service account JSON (entire file content)

## Login Credentials

**For testing (current setup):**
- Username: `admin`
- Password: `testpass123`

**IMPORTANT:** Change the password before deploying! Generate a new hash with `hash_password.py` using a secure password.

## Security Notes

- Never commit your password hashes to git
- Use strong, unique passwords for production
- The app uses bcrypt for secure password hashing
- Sessions expire after 30 days (configurable in app.py)
- Always use HTTPS in production (Railway provides this automatically)
